{% extends "ClarolineCoreBundle:Desktop:layout.html.twig" %}

{% block title %}{{ parent() ~ ' - ' ~ 'sync_mode' | trans({}, 'offline') | striptags | raw }}{% endblock %}

{% block breadcrumb %}
    {{
        macros.breadcrumbs([
            {
                'icon': 'icon-briefcase',
                'name': 'desktop'|trans({}, 'platform'),
                'href': path('claro_desktop_open')
            },
            {
                'name': 'claroline_offline_tool'|trans({}, 'tools'),
                'href': ''
            }
        ])
    }}
{% endblock %}

{% block section_content %}
    {{ macros.flashBox() }}
        {% if first_sync %}
            <div class="alert alert-danger">
                <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
                {{ 'sync_first'|trans({}, 'offline') }}
            </div>
        {% endif %}
		{% if msg %}
            <div class="alert alert-danger">
                <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
                {{ msg }}
            </div>
        {% endif %}
    <div class='panel panel-default'>
            <div class="panel-heading">
                <h3 class="panel-title">{{ 'sync_mode'|trans({}, 'offline') }}</h3>
            </div>
             <div id="offline-content" class="panel-body">
                <p>{{ 'offline_presentation'|trans({}, 'offline') }}</p>
                {{ 'sync_confirmation'|trans({}, 'offline') }}
            </div>
            <div class="panel-footer">
                <a class="btn btn-primary" id="buttonSynchronize" href="{{ path('claro_sync_exchange') }}" role="button">
                    {{ 'sync_launch'|trans({}, 'offline') }}
                </a>

                <a class="btn btn-primary" href="{{ path('sync_url_edit_form') }}" role="button">
                    {{ 'sync_param'|trans({}, 'offline') }}
                </a>
				<a class="btn btn-primary" href="{{ path('sync_add_user') }}" role="button">
                    {{ 'sync_new_user'|trans({}, 'offline') }}
                </a>
            </div>
    </div>

{% endblock %}

{% block javascripts %}
    {{ parent() }}
    <script type="text/javascript" src="{{ asset('bundles/clarolineoffline/js/wait.js') }}"></script>
{% endblock %}
